streaming_platform:
  type: kafka
  broker_url: dm-pipeline-cp-kafka-headless:9092
  auth:
  - user: ~
  - pw: ~

task_defaults:
  input_offset_reset: earliest
  topic_encoding: "utf8"
  storage_mode: "memory"
  input_data_type: "json"

tasks:
- name: journeyanon
  input_topic: anon
  output_topic: processed
  function:
    name: anonymize_journey
    args:
      original_to_cvdi_key:
        position_lat: Latitude
        position_long: Longitude
        cadence: Heading
        enhanced_speed: Speed
        timestamp: Gentime
      config_overrides: {}
    window:
      type: length
      value: 567
      grouping_keys:
      - activityId